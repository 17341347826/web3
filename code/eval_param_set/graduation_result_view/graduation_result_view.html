 <div id="graduation_result_view" ms-important="graduation_result_view">
    <xmp ms-widget="{is:'ms-three-menu-module'}"></xmp>
    <!--筛选条件-->
    <div class="common-select" >
        <div class="search-cont clearfix">
            <!--区县-->
            <div class="select">
                <div class="old-select">
                    <select data-duplex-changed="@areaChange" ms-duplex="@area_info">
                        <!--ms-for: el in @area_list-->
                        <option ms-attr="{value:el.district}">
                            {{el.district}}
                        </option>
                        <!--ms-for-end:-->
                    </select>
                </div>
            </div>
            <!--学校-->
            <div class="select">
                <div class="old-select">
                    <select data-duplex-changed="@schoolChange" ms-duplex="@school_info">
                        <!--ms-for: el in @school_list-->
                        <option ms-attr="{value:el.id+'|'+el.schoolname}">
                            {{el.schoolname}}
                        </option>
                        <!--ms-for-end:-->
                    </select>
                </div>
            </div>
            <!--年级-->
            <div class="select">
                <div class="old-select">
                    <select data-duplex-changed="@gradeChange" ms-duplex="@grade_info">
                        <!--ms-for: el in @grade_list-->
                        <option ms-attr="{value:el.id+'|'+el.grade_name}">
                            {{el.grade_name}}
                        </option>
                        <!--ms-for-end:-->
                    </select>
                </div>
            </div>
            <!--班级-->
            <div class="select">
                <div class="old-select">
                    <select data-duplex-changed="@classChange" ms-duplex="@class_info">
                        <!--ms-for: el in @class_list-->
                        <option ms-attr="{value:el.id+'|'+el.class_name}">
                            {{el.class_name}}班
                        </option>
                        <!--ms-for-end:-->
                    </select>
                </div>
            </div>
            <!--等级-->
            <div class="select">
                <div class="old-select">
                    <select data-duplex-changed="@rankChange" ms-duplex="@req_data.rank">
                        <option ms-attr="{value:''}">
                            全部
                        </option>
                        <!--ms-for: el in @rank_list-->
                        <option ms-attr="{value:el.c_rank}">
                            {{el.c_rank}}
                        </option>
                        <!--ms-for-end:-->
                    </select>
                </div>
            </div>
            <!--导出-->
            <div class="click_btn" ms-on-click="@export()">
                <span>导出</span>
            </div>
            <!--导入报告-->
            <div class="click_btn " ms-click="@import_file">
                <span>导入报告</span>
                <input type="file" accept="aplication/zip" class="import-input" id="import-file" multiple>
            </div>
            <!--<div class="import-content">-->
                <!--<span class="am-btn am-btn-primary am-margin-right-xs " style="border-radius:4px;" ms-click="@import_file">导入报告</span>-->
                <!--<input type="file" accept="aplication/zip" class="import-input" id="import-file" multiple>-->
            <!--</div>-->
            <!--导入等级-->
            <div class="click_btn " ms-click="@rank_import()">
                <span>导入等级</span>
            </div>
            <!--<span class="am-btn am-btn-warning" ms-click="@rank_import()" style="border-radius:4px;">导入等级</span>-->
            <!--公示的等级-->
            <div class="am-padding-top-sm" :if="@rank_list.length>0">
                <label class="am-form-label">需要公示的等级:</label>
                <!--ms-for: el in @rank_list-->
                <label class="am-checkbox-inline">
                    <input type="checkbox" :if="@release_type==0" ms-duplex="@level" ms-attr="{value:el.c_rank}">
                    <input type="checkbox" :if="@release_type==1" ms-duplex="@level" ms-attr="{value:el.c_rank}" disabled>{{el.c_rank}}
                </label>
                <!--ms-for-end:-->
            </div>
            <!--发布状态-->
            <div class="am-padding-top-sm am-padding-bottom-sm" :if="@rank_list.length>0">
                <label :if="@release_type==0" class="am-form-label">发布状态:未发布</label>
                <label :if="@release_type==1" class="am-form-label">发布状态:已发布</label>
                <a :if="@release_type==0" class='am-btn am-btn-primary am-btn-sm am-margin-left-xl'
                   ms-on-click="@release_click()" style="border-radius:4px;">发布</a>
                <!--<div class="click_btn" :if="@release_type==0" ms-on-click="@release_click()">-->
                    <!--<span>发布</span>-->
                <!--</div>-->
                <a :if="@release_type==1" class='am-btn am-btn-danger am-btn-sm am-margin-left-xl'
                   ms-on-click="@revoke_click()" style="border-radius:4px;">撤销发布</a>
                <!--<div class="click_btn" :if="@release_type==1"  ms-on-click="@revoke_click()">-->
                    <!--<span>撤销发布</span>-->
                <!--</div>-->
            </div>
        </div>
    </div>
    <!--内容-->
    <div class='list-con'>
        <div class="table-module">
            <table class="am-table am-table-bordered"  ms-if="@get_info.length>0">
                <thead>
                <tr>
                    <th>
                        序号
                    </th>
                    <th>
                        姓名
                    </th>
                    <th>
                        学籍号
                    </th>
                    <!--ms-for: el in @tbodyThead-->
                    <th>
                        {{el}}
                    </th>
                    <!--ms-for-end:-->
                    <th>
                        加分项
                    </th>

                    <th>
                        综合评价
                    </th>
                    <th>
                        综合分值
                    </th>
                    <th>
                        状态
                    </th>
                    <th>
                        操作
                    </th>
                </tr>
                </thead>
                <tbody>
                <!--ms-for: ($idx,el) in @get_info-->
                <tr>
                    <td>
                        {{$idx+1}}
                    </td>
                    <td>
                        {{el.stu_name}}
                    </td>
                    <td>
                        {{el.stu_num}}
                    </td>
                    <!--ms-for: ($i,cl) in @el.values-->
                    <td>
                        {{cl}}
                    </td>
                    <!--ms-for-end:-->
                    <td>
                        {{el.score_plus}}
                    </td>
                    <td>
                        {{el.rank}}
                    </td>
                    <td>
                        {{el.zf}}
                    </td>
                    <!--&lt;!&ndash;<td :if="el.state==2 || el.state==3 || el.state==4">&ndash;&gt;-->
                    <!--&lt;!&ndash;已发布&ndash;&gt;-->
                    <!--&lt;!&ndash;</td>&ndash;&gt;-->
                    <!--<td>-->
                    <!--{{el.state | state_filter}}-->
                    <!--</td>-->
                    <!--&lt;!&ndash;<td :if="el.state==5">&ndash;&gt;-->
                    <!--&lt;!&ndash;已归档&ndash;&gt;-->
                    <!--&lt;!&ndash;</td>&ndash;&gt;-->
                    <td>
                        <span :if="el.is_file==1">已归档</span>
                        <span :if="el.is_file==0 && el.is_publish==0">未发布</span>
                        <span :if="el.is_file==0 && el.is_publish==1">已发布</span>
                    </td>
                    <td>
                        <a class="tab-btn tab-details-btn" ms-on-click="check(el)" title="查看">
                        </a>
                    </td>
                </tr>
                <!--ms-for-end:-->
                </tbody>
            </table>
            <!--暂无数据-->
            <div class="no-data" :if="@get_info.length == 0">
                <div>
                    <img src="../../../../common/images/none.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <!--导入报告-->
    <div class="error-layer" id="error-layer">
        <div class="success-count"><span>上传成功{{@successCount}}条</span></div>
        <div class="error-msg">
            <ul>
                <li ms-for="el in @error_files">{{el}}<span>上传失败</span></li>
            </ul>
        </div>
    </div>
    <!--导入等级-->
    <div class="am-modal am-modal-prompt upload_div" id="file-uploading" tabindex="-1">
        <div class="am-modal-dialog">
            <div class="am-modal-hd">
                批量导入报告等级
                <a class="am-close am-close-spin" data-am-modal-close="" href="javascript: void(0)">
                    ×
                </a>
            </div>
            <div class="am-modal-bd">
                <form id="uploadForm" method="post" enctype="multipart/form-data">
                    <input type="text" ms-duplex="@fileName" id="file-name" disabled class="am-u-sm-10"
                           style="height: 32px">
                    <div class="am-form-group am-form-file">
                        <button type="button" class="am-btn am-btn-default am-btn-sm">选择文件</button>
                        <input type="file" id="file" name="file" multiple onchange="document.getElementById('file-name').value=this.value">
                        <input type="hidden" name="grade_id" ms-attr="{value:@uploadForm.grade_id}">
                    </div>
                </form>
                <div class="am-text-left">
                    <a ms-on-click="@down_score" style="cursor: pointer">
                        下载模板
                    </a>
                </div>
                <span ms-visible="@modal.msg != ''" style="color: red">{{ @modal.msg }}</span>
                <!--&lt;!&ndash;学生学籍号不存在&ndash;&gt;-->
                <!--<div class="am-text-left" ms-visible="@uploadForm.stu_not_exist.length != 0">-->
                <!--<span>-->
                <!--学生学籍号不存在：-->
                <!--</span>-->
                <!--<ol>-->
                <!--&lt;!&ndash;ms-for: el in @uploadForm.stu_not_exist&ndash;&gt;-->
                <!--<li style="color: red">-->
                <!--{{el}}-->
                <!--</li>-->
                <!--&lt;!&ndash;ms-for-end:&ndash;&gt;-->
                <!--</ol>-->
                <!--</div>-->
                <div class="am-text-left" ms-visible="@upload_rank_return.length != 0">
                    <!--ms-for:el in @upload_rank_return-->
                    <span style="color:red;margin-top:15px;">{{el}}</span>
                    <!--ms-for-end:-->
                </div>
            </div>
            <div class="am-modal-footer">
                <span class="am-modal-btn" data-am-modal-cancel="">取消</span>
                <span class="am-modal-btn" data-am-modal-confirm="" ms-on-click="@uploading()">上传</span>
            </div>
        </div>
    </div>
</div>
