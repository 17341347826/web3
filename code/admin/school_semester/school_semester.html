<div class="am-g" ms-important="table" id="school_semester">
    <xmp ms-widget="{is:'ms-three-menu-module'}"></xmp>
    <div class="common-select" >
        <div class="search-cont clearfix">
            <!--创建方案-->
            <div class="click_btn" :click="@addInfo">
                <img src="../../../../common/images/icon/add_schemem.png"/>
                <span>新增</span>
            </div>
        </div>
    </div>
    <div id="user_div">
        <div class="table-module">
            <table class="am-table am-table-hover">
                <thead>
                <tr>
                    <th>
                        序号
                    </th>
                    <th>
                        名称
                    </th>
                    <th>
                        学年
                    </th>
                    <th>
                        学期序号
                    </th>
                    <th>
                        开始时间
                    </th>
                    <th>
                        结束时间
                    </th>
                    <th>
                        备注
                    </th>
                    <th>
                        使用状态
                    </th>
                    <th>
                        操作
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr ms-if="@semester_property.length == 0">
                    <td ms-attr="{colspan:7}">
                        暂无数据
                    </td>
                </tr>
                <!--ms-for: $idx,el in @semester_property-->
                <tr>
                    <td>
                        {{$idx+1}}
                    </td>
                    <td>
                        {{el.semester_name}}
                    </td>
                    <td>
                        {{el.xn}}
                    </td>
                    <td>
                        <span :if="el.semester_index == 1">第一学期(秋季学期)</span>
                        <span :if="el.semester_index == 2">第二学期(春季学期)</span>
                    </td>
                    <td>
                        {{el.start_date | date("yyyy-MM-dd")}}
                    </td>
                    <td>
                        {{el.end_date | date("yyyy-MM-dd")}}
                    </td>
                    <td>
                        {{el.remark}}
                    </td>
                    <td>
                        <div style="display: inline-block" >
                            <a :class="[(el.status == 1 ? 'tab-toggle-on-btn':'tab-toggle-off-btn'),'toggle-a']" class='tab-btn' ms-on-click="@statusOn(el.id,el.status)"></a>
                        </div>
                    </td>
                    <td>
                        <a class="tab-btn tab_produce_btn" ms-on-click="filed(el.id)" title="归档">
                        </a>
                        <a class="tab-btn tab-trash-btn" ms-on-click="propertyDelete(el.id)" title="删除">
                        </a>
                    </td>
                </tr>
                <!--ms-for-end:-->
                </tbody>
            </table>
        </div>
        <xmp ms-widget="{is:'ms-ele-modal',modal:@modal,extend:@extend,sure:@sure}">
        </xmp>
        <!--添加修改-->
        <div class="am-modal am-modal-prompt" id="compileData" tabindex="-1">
            <div class="am-modal-dialog">
                <div class="am-modal-hd">
                    {{@modal.title}}
                    <a class="am-close am-close-spin" data-am-modal-close="" href="javascript: void(0)">
                        ×
                    </a>
                </div>
                <div class="am-modal-bd">
                    <form class="am-form am-form-horizontal">
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                学年
                            </label>
                            <div class="am-u-sm-9 ">
                                <input type="text" ms-duplex="@compileData.xn" :blur="@xn_blur()" placeholder="请输入学年(必填）例:2017-2018">
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                学期序号
                            </label>
                            <div class="am-u-sm-9 ">
                                <select  ms-duplex="@compileData.semester_index">
                                    <option value="">请选择</option>
                                    <option value="1">第一学期(秋季学期)</option>
                                    <option value="2">第二学期(春季学期)</option>
                                </select>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                学年学期
                            </label>
                            <div class="am-u-sm-9 ">
                                <input class="am-hide" type="text"/>
                                <input class="am-modal-prompt-input" ms-duplex="@compileData.semester_name"
                                       placeholder="请输入学年学期名称（必填）" type="text"/>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                开始时间
                            </label>
                            <div class="am-u-sm-9 ">
                                <input class="art_input am-form-field" readonly data-am-datepicker="" id="my-datepicker"
                                       ms-attr="{value:@other.start_time}" ms-on-focus="@getCompleteDate"
                                       ms-rules="{required:true}" placeholder="请选择开始时间（必填）" required="" type="text"/>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                结束时间
                            </label>
                            <div class="am-u-sm-9 ">
                                <input class="art_input am-form-field" readonly data-am-datepicker="" id="my-datepickers"
                                       ms-attr="{value:@other.end_time}" ms-on-focus="@getCompleteDates"
                                       ms-rules="{required:true}" placeholder="请选择结束时间（必填）" required="" type="text"/>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label class="am-u-sm-3 am-form-label">
                                备注
                            </label>
                            <div class="am-u-sm-9">
                                <input class="am-modal-prompt-input" ms-duplex="@compileData.remark" placeholder="请输入备注"
                                       type="text"/>
                            </div>
                        </div>
                    </form>
                    <span ms-visible="@modal.msg != ''" style="color: red">
     {{ @modal.msg }}
    </span>
                </div>
                <div class="am-modal-footer">
    <span class="am-modal-btn" data-am-modal-cancel="">
     取消
    </span>
                    <span class="am-modal-btn" data-am-modal-confirm="" ms-on-click="@compile()">
     提交
    </span>
                </div>
            </div>
        </div>

    </div>
</div>
